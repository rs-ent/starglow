//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table User {
  id String [pk]
  name String
  email String [unique]
  emailVerified DateTime
  image String
  role String [not null, default: 'user']
  active Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  lastLoginAt DateTime
  provider String
  telegramId String [unique]
  password String
  phone String
  discordId String [unique]
  accounts Account [not null]
  collectionParticipants CollectionParticipant [not null]
  discordCode DiscordCode [not null]
  loginAttempts LoginAttemptLog [not null]
  payments Payment [not null]
  player Player
  sessions Session [not null]
  wallets Wallet [not null]
}

Table Account {
  id String [pk]
  userId String [not null]
  type String [not null]
  provider String [not null]
  providerAccountId String [not null]
  refresh_token String
  access_token String
  expires_at Int
  token_type String
  scope String
  id_token String
  session_state String
  user User [not null]

  indexes {
    (provider, providerAccountId) [unique]
  }
}

Table DiscordAccount {
  id String [pk]
  discordId String [unique, not null]
  userIds String[] [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table DiscordCode {
  id String [pk]
  code String [unique, not null]
  expiresAt DateTime [not null]
  userId String [not null]
  user User [not null]
}

Table VerificationToken {
  identifier String [not null]
  token String [unique, not null]
  expires DateTime [not null]

  indexes {
    (identifier, token) [unique]
  }
}

Table Session {
  id String [pk]
  sessionToken String [unique, not null]
  userId String [not null]
  expires DateTime [not null]
  user User [not null]
}

Table Wallet {
  id String [pk]
  userId String [not null]
  address String [unique, not null]
  privateKey String
  network String [not null]
  createdAt DateTime [default: `now()`, not null]
  default Boolean [not null, default: false]
  primary Int [default: 0]
  lastAccessedAt DateTime [not null]
  nickname String
  status WalletStatus [not null, default: 'ACTIVE']
  keyHash String
  nonce String
  provider String [not null, default: 'starglow']
  payments Payment [not null]
  user User [not null]
}

Table Player {
  id String [pk]
  userId String [unique]
  telegramId String [unique]
  name String
  createdAt DateTime [default: `now()`, not null]
  lastConnectedAt DateTime [not null]
  referralCount Int [not null, default: 0]
  referredAt DateTime [default: `now()`, not null]
  referredBy String
  referredMethod String
  referralCode String [unique, not null]
  nickname String
  email String
  image String
  tweetAuthorId String [unique]
  tweetVerified Boolean [not null, default: false]
  artistId String
  isArtist Boolean [not null, default: false]
  boardReputationScore Int [not null, default: 0]
  boardTrustLevel Int [not null, default: 0]
  tester Boolean [not null, default: false]
  browser String
  city String
  country String
  device String
  ipAddress String
  locale String
  os String
  state String
  timezone String
  artistFeedReactions ArtistFeedReaction [not null]
  assetInstances AssetInstance [not null]
  boardComments BoardComment [not null]
  committedBoardModeration BoardModerationReport [not null]
  reportedBoardModeration BoardModerationReport [not null]
  boardPosts BoardPost [not null]
  grantedBoardRewards BoardPostReward [not null]
  boardPostRewards BoardPostReward [not null]
  boardReactions BoardReaction [not null]
  artist Artist
  referrer Player
  referredPlayers Player [not null]
  tweetAuthor TweetAuthor
  user User
  playerAssets PlayerAsset [not null]
  pollLogs PollLog [not null]
  questLogs QuestLog [not null]
  raffleParticipants RaffleParticipant [not null]
  raffleWinners RaffleWinner [not null]
  referredPlayerLogs ReferralLog [not null]
  referrerPlayerLogs ReferralLog [not null]
  rewardLogs RewardsLog [not null]
  notificationSettings notification_settings
  userNotifications user_notifications [not null]

  indexes {
    (userId, telegramId) [unique]
  }
}

Table PlayerOldData {
  id String [pk]
  telegramId String [unique, not null]
  name String
  points Int [not null, default: 0]
  referrerTelegramId String
  createdAt DateTime [default: `now()`, not null]
}

Table ReferralLog {
  id String [pk]
  referredPlayerId String [not null]
  referrerPlayerId String [not null]
  createdAt DateTime [default: `now()`, not null]
  method String
  referredPlayer Player [not null]
  referrerPlayer Player [not null]

  indexes {
    (referredPlayerId, referrerPlayerId) [unique]
  }
}

Table PlayerAsset {
  id String [pk]
  playerId String [not null]
  assetId String [not null]
  balance Int [not null, default: 0]
  updatedAt DateTime [not null]
  status PlayerAssetStatus [not null, default: 'ACTIVE']
  assetInstances AssetInstance [not null]
  asset Asset [not null]
  player Player [not null]

  indexes {
    (playerId, assetId) [unique]
  }
}

Table Quest {
  id String [pk]
  title String [not null]
  description String
  url String
  icon String
  startDate DateTime
  endDate DateTime
  permanent Boolean [not null, default: false]
  effects String
  type String
  rewardAmount Int
  rewardAssetId String
  imgUrl String
  isActive Boolean [not null, default: true]
  order Int [default: 0]
  youtubeUrl String
  repeatable Boolean [not null, default: false]
  repeatableCount Int
  repeatableInterval Int
  artistId String
  needToken Boolean [not null, default: false]
  needTokenAddress String
  isReferral Boolean [not null, default: false]
  referralCount Int
  questType QuestType [not null, default: 'URL']
  multiClaimInterval Int
  multiClaimLimit Int
  multiClaimable Boolean [not null, default: false]
  urls String[] [not null]
  test Boolean [not null, default: false]
  artist Artist
  rewardAsset Asset
  questLogs QuestLog [not null]
  rewardLogs RewardsLog [not null]
}

Table QuestLog {
  id String [pk]
  playerId String [not null]
  questId String [not null]
  completed Boolean [not null, default: false]
  completedAt DateTime
  createdAt DateTime [default: `now()`, not null]
  rewardAmount Int
  rewardAssetId String
  claimedAt DateTime
  isClaimed Boolean [not null, default: false]
  repeatCount Int [not null, default: 1]
  completedDates DateTime[] [not null]
  deprecated Boolean [not null, default: false]
  reclaimable Boolean [not null, default: false]
  claimedDates DateTime[] [not null]
  status QuestLogStatus [not null, default: 'PENDING']
  player Player [not null]
  quest Quest [not null]
  rewardAsset Asset
  rewardLogs RewardsLog [not null]

  indexes {
    (playerId, questId) [unique]
  }
}

Table Poll {
  id String [pk]
  title String [not null]
  titleShorten String
  startDate DateTime [default: `now()`, not null]
  endDate DateTime [not null]
  exposeInScheduleTab Boolean [not null, default: true]
  totalVotes Int [not null, default: 0]
  totalBetsAmount Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  allowMultipleVote Boolean [not null, default: false]
  bettingMode Boolean [not null, default: false]
  category PollCategory [not null, default: 'PUBLIC']
  customResults Int[] [not null]
  description String
  hideResults Boolean [not null, default: false]
  imgUrl String
  maximumBet Int [not null, default: 10000]
  metadata Json
  minimumBet Int [not null, default: 1000]
  minimumPoints Int
  minimumSGP Int
  minimumSGT Int
  needToken Boolean [not null, default: true]
  needTokenAddress String
  optionsOrder String[] [not null]
  postPromoImg String
  postPromoText String
  prePromoImg String
  prePromoText String
  requiredQuests String[] [not null]
  resultVisibleDate DateTime
  status PollStatus [not null, default: 'UPCOMING']
  tags String[] [not null]
  uniqueVoters Int [not null, default: 0]
  verificationHash String
  verifiedAt DateTime
  verifiedBy String
  viewCount Int [not null, default: 0]
  voteLimit Int
  youtubeUrl String
  options Json[] [not null]
  bettingAssetId String
  participationRewardAmount Int
  participationRewardAssetId String
  artistId String
  isActive Boolean [not null, default: false]
  answerOptionIds String[] [not null]
  hasAnswer Boolean [not null, default: false]
  bettingStatus BettingStatus [not null, default: 'OPEN']
  houseCommissionRate Float [not null, default: 0.05]
  isSettled Boolean [not null, default: false]
  optionBetAmounts Json
  settledAt DateTime
  settledBy String
  totalCommissionAmount Int [not null, default: 0]
  winningOptionId String
  answerAnnouncementDate DateTime
  hasAnswerAnnouncement Boolean [not null, default: false]
  participationConsumeAmount Int
  participationConsumeAssetId String
  showOnPollPage Boolean [not null, default: true]
  showOnStarPage Boolean [not null, default: true]
  test Boolean [not null, default: false]
  isOnchain Boolean [not null, default: false]
  onchainContractId String
  onchainPollId String
  artist Artist
  bettingAsset Asset
  participationConsumeAsset Asset
  participationRewardAsset Asset
  settlementLogs PollBettingSettlementLog [not null]
  pollLogs PollLog [not null]
  rewardLogs RewardsLog [not null]
  onchainContract OnchainPollContract
}

Table OnchainPollContract {
  id String [pk]
  address String [unique, not null]
  txHash String [unique, not null]
  deployedBy String [not null]
  blockNumber Int
  isActive Boolean [not null, default: true]
  networkId String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  network BlockchainNetwork [not null]
  polls Poll [not null]
}

Table PollLog {
  id String [pk]
  playerId String [not null]
  pollId String [not null]
  betAmount Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  ipAddress String
  userAgent String
  updatedAt DateTime [not null]
  record Json
  rewardAmount Int
  rewardAssetId String
  amount Int [not null, default: 1]
  option Json [not null]
  optionId String [not null]
  isPayoutDistributed Boolean [not null, default: false]
  payoutAmount Int [not null, default: 0]
  payoutDistributedAt DateTime
  payoutMultiplier Float
  player Player [not null]
  poll Poll [not null]
  rewardAsset Asset
  rewardLogs RewardsLog [not null]

  indexes {
    (playerId, pollId, optionId) [unique]
  }
}

Table RewardsLog {
  id String [pk]
  playerId String [not null]
  questId String
  questLogId String
  pollId String
  pollLogId String
  amount Int [not null]
  reason String
  createdAt DateTime [default: `now()`, not null]
  assetId String
  balanceAfter Int
  balanceBefore Int
  tweetAuthorId String
  tweetIds String[] [not null]
  raffleId String
  raffleParticipantId String
  asset Asset
  player Player [not null]
  poll Poll
  pollLog PollLog
  quest Quest
  questLog QuestLog
  raffle Raffle
  raffleParticipant RaffleParticipant
  tweetAuthor TweetAuthor
}

Table Events {
  id String [pk]
  category EventCategory [not null, default: 'other']
  title String [not null]
  description String
  content Json
  url String
  status EventStatus [not null, default: 'upcoming']
  bannerImg String
  bannerImg2 String
  galleryImgs String[] [not null]
  detailImg Json
  saleStartDate DateTime
  saleEndDate DateTime
  price Int
  capacity Int
  ageLimit Int
  organizer String
  organizerImg String
  organizerUrl String
  contact String
  startDate DateTime [not null]
  endDate DateTime [not null]
  location String
  locationAddress String
  locationImg String
  locationUrl String
  locationLat Float
  locationLng Float
  artist String
  artistImg String
  artistUrl String
  tags String[] [not null]
  hashtags String[] [not null]
  promotionText String
  promotionImg String
  isFeatured Boolean [not null, default: false]
  viewCount Int [not null, default: 0]
  bookmarkCount Int [not null, default: 0]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table StoredFiles {
  id String [pk]
  name String
  url String [unique, not null]
  type String
  sourceUrl String
  alt String
  width Int
  height Int
  mimeType String
  sizeBytes Int
  metadata Json
  order Int [default: 0]
  purpose String
  bucket String [not null]
  expiresAt DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  focusX Float [not null, default: 0.5]
  focusY Float [not null, default: 0.5]

  indexes {
    (sourceUrl, type) [unique]
  }
}

Table LoginAttemptLog {
  id String [pk]
  userId String
  email String
  provider String
  success Boolean [not null]
  error String
  ipAddress String
  userAgent String
  timestamp DateTime [default: `now()`, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user User
}

Table Payment {
  id String [pk]
  userId String
  productTable String [not null]
  productId String [not null]
  productName String [not null]
  productDefaultCurrency String [not null]
  amount Int [not null]
  quantity Int [not null]
  currency String [not null]
  payMethod String [not null]
  easyPayProvider String
  cardProvider String
  cardInstallmentMonths Int
  cardInterestFree Boolean
  cardApproveNumber String
  cardNumber String
  status PaymentStatus [not null, default: 'PENDING']
  statusReason String
  paidAt DateTime
  cancelledAt DateTime
  failedAt DateTime
  pgResponse Json
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  channelKey String [not null]
  storeId String [not null]
  promotionCode String
  isPromotionApplied Boolean [not null, default: false]
  convertedPrice Int
  exchangeRate Float
  exchangeRateProvider String
  exchangeRateTimestamp DateTime
  originalProductPrice Int
  refundedAt DateTime
  cancelAmount Int
  redirectUrl String
  code String
  message String
  paymentId String
  pgCode String
  pgMessage String
  transactionType String
  txId String
  postProcessResult Json
  postProcessResultAt DateTime
  receiverWalletAddress String
  needWallet Boolean [not null, default: false]
  completedAt DateTime
  promotion PaymentPromotion
  receiverWallet Wallet
  user User
  virtualAccount VirtualAccount
  webhookEvents WebhookEvent [not null]
}

Table PaymentPromotion {
  id String [pk]
  code String [unique, not null]
  startDate DateTime [not null]
  endDate DateTime [not null]
  discountType PaymentPromotionDiscountType [not null, default: 'percentage']
  discountValue Int [not null]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  payments Payment [not null]
}

Table WebhookEvent {
  id String [pk]
  paymentId String
  payload Json
  createdAt DateTime [default: `now()`, not null]
  description String
  payment Payment
}

Table VirtualAccount {
  id String [pk]
  paymentId String [unique, not null]
  bankCode String [not null]
  accountNumber String [not null]
  holderName String [not null]
  expiresAt DateTime [not null]
  depositedAt DateTime
  depositorName String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  payment Payment [not null]
}

Table ExchangeRate {
  id String [pk]
  fromCurrency String [not null]
  toCurrency String [not null]
  rate Float [not null]
  provider String [not null]
  createdAt DateTime [default: `now()`, not null]
}

Table BlockchainNetwork {
  id String [pk]
  name String [unique, not null]
  chainId Int [unique, not null]
  rpcUrl String [not null]
  explorerUrl String [not null]
  symbol String [not null]
  isTestnet Boolean [not null, default: true]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  multicallAddress String
  isStoryNetwork Boolean [not null, default: false]
  defaultNetwork Boolean [not null, default: false]
  assets Asset [not null]
  assetsContracts AssetsContract [not null]
  collectionContracts CollectionContract [not null]
  factoryContracts FactoryContract [not null]
  nfts NFT [not null]
  onchainRaffles OnchainRaffle [not null]
  onchainRaffleContracts OnchainRaffleContract [not null]
  onchainPollContracts OnchainPollContract [not null]
  story_ipAssets Story_ipAsset [not null]
  story_nfts Story_nft [not null]
  story_spg Story_spg [not null]
  story_spg_contracts Story_spgContract [not null]
  tbaContracts TBAContract [not null]
}

Table AssetsContract {
  id String [pk]
  address String [unique, not null]
  version String [not null]
  description String
  abi Json
  bytecode String
  networkId String [not null]
  creatorAddress String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  assets Asset [not null]
  network BlockchainNetwork [not null]
}

Table Asset {
  id String [pk]
  name String [not null]
  symbol String [not null]
  description String
  iconUrl String
  imageUrl String
  metadata Json
  assetType AssetType [not null]
  contractAddress String
  isActive Boolean [not null, default: true]
  selectors String[] [not null]
  abis Json
  networkId String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  creatorAddress String
  assetsContractAddress String
  assetId String
  isDefault Boolean [not null, default: false]
  artistId String
  hasInstance Boolean [not null, default: false]
  needTutorial Boolean [not null, default: false]
  artist Artist
  assetsContract AssetsContract
  network BlockchainNetwork
  assetInstances AssetInstance [not null]
  assetTutorial AssetTutorial
  boardPopularPostRewards Board [not null]
  boardPostCreationRewards Board [not null]
  boardQualityContentRewards Board [not null]
  boardPostRewards BoardPostReward [not null]
  playerAssets PlayerAsset [not null]
  pollBettingAssets Poll [not null]
  pollParticipationConsumeAssets Poll [not null]
  pollParticipationRewardAssets Poll [not null]
  pollLogRewardAssets PollLog [not null]
  questRewardAssets Quest [not null]
  questLogRewardAssets QuestLog [not null]
  raffleEntryFeeAssets Raffle [not null]
  rafflePrizes RafflePrize [not null]
  rewardsLogs RewardsLog [not null]
  stakeRewards StakeReward [not null]
  stakeRewardLogs StakeRewardLog [not null]
}

Table AssetTutorial {
  id String [pk]
  assetId String [unique, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  steps Json [not null]
  asset Asset [not null]
}

Table AssetInstance {
  id String [pk]
  serialNumber String [not null]
  status AssetInstanceStatus [not null, default: 'PENDING']
  assetId String [not null]
  playerId String
  playerAssetId String
  expiresAt DateTime
  validFrom DateTime
  validUntil DateTime
  usedAt DateTime
  usedBy String
  usedFor String
  usedLocation String
  source String
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  code String
  asset Asset [not null]
  playerAsset PlayerAsset
  player Player

  indexes {
    (assetId, serialNumber) [unique]
    (assetId, code) [unique]
  }
}

Table AssetTransaction {
  id String [pk]
  assetId String [not null]
  success Boolean [not null]
  createdAt DateTime [default: `now()`, not null]
  amount Int
  description String
  metadata Json
  receiverAddress String
  transactionHash String [unique, not null]
}

Table FactoryContract {
  id String [pk]
  address String [not null]
  networkId String [not null]
  deployedAt DateTime [default: `now()`, not null]
  deployedBy String
  transactionHash String
  isActive Boolean [not null, default: true]
  collections String[] [not null]
  abi Json
  bytecode String
  collectionContracts CollectionContract [not null]
  network BlockchainNetwork [not null]

  indexes {
    (address, networkId) [unique]
  }
}

Table EscrowWallet {
  id String [pk]
  address String [unique, not null]
  privateKey String [not null]
  keyHash String [not null]
  networkIds String[] [not null]
  isActive Boolean [not null, default: true]
  balance Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  nonce String [not null]
  onchainRaffles OnchainRaffle [not null]
  onchainRaffleContracts OnchainRaffleContract [not null]
}

Table ipfs {
  id String [pk]
  cid String [unique, not null]
  url String [unique, not null]
  type String [not null, default: 'default']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  previewHeight Int
  previewMimeType String
  previewSizeBytes Int
  previewUrl String
  previewWidth Int
}

Table Metadata {
  id String [pk]
  metadata Json [not null]
  url String [not null, default: 'ipfs://']
  collectionAddress String [unique]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  type MetadataType [not null, default: 'collection']
  tokenId Int
  collectionKey String [not null]
  collectionContract CollectionContract

  indexes {
    (collectionAddress, tokenId) [unique]
  }
}

Table CollectionContract {
  id String [pk]
  address String [unique, not null]
  name String [not null]
  symbol String [not null]
  maxSupply Int [not null]
  mintPrice String [not null]
  baseURI String [not null]
  contractURI String [not null]
  factoryId String [not null]
  networkId String [not null]
  createdBy String [not null, default: 'admin']
  txHash String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  price Int [not null, default: 0]
  circulation Int [not null, default: 1000]
  mintedCount Int [not null, default: 0]
  artistId String
  key String [unique, not null]
  isListed Boolean [not null, default: false]
  abi Json
  bytecode String
  isPaused Boolean [not null, default: false]
  pauseAt DateTime
  unpauseAt DateTime
  creatorAddress String [not null, default: '0x58E1F072A8f41e1d476F06d73a6cB7b866e6f63B']
  glowEnd DateTime
  glowStart DateTime
  preSaleEnd DateTime
  preSaleStart DateTime
  saleEnd DateTime
  saleStart DateTime
  pageImages String[] [not null]
  artist Artist
  factory FactoryContract [not null]
  network BlockchainNetwork [not null]
  participants CollectionParticipant [not null]
  metadata Metadata
  nfts NFT [not null]
  events NFTEvent [not null]
  stakeRewards StakeReward [not null]
}

Table NFT {
  id String [pk]
  tokenId Int [not null]
  collectionId String [not null]
  ownerAddress String [not null]
  metadataUri String
  mintedAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  transactionHash String [not null]
  networkId String [not null]
  name String
  description String
  imageUrl String
  attributes Json
  isListed Boolean [not null, default: false]
  listingPrice String
  lastTransferredAt DateTime
  transferCount Int [not null, default: 0]
  isBurned Boolean [not null, default: false]
  rarity Float
  tags String[] [not null]
  category String
  creatorInfo String
  externalUrl String
  mintPrice String
  mintedBy String
  royaltyInfo Json
  currentOwnerAddress String
  isLocked Boolean [not null, default: false]
  lockedAt DateTime
  unlockAt DateTime
  unlockScheduledAt DateTime
  lockTransactionHash String
  isStaked Boolean [not null, default: false]
  stakedAt DateTime
  unstakeScheduledAt DateTime
  unstakedAt DateTime
  collection CollectionContract [not null]
  network BlockchainNetwork [not null]
  events NFTEvent [not null]
  stakeRewardLogs StakeRewardLog [not null]

  indexes {
    (collectionId, tokenId) [unique]
  }
}

Table CollectionParticipant {
  id String [pk]
  type CollectionParticipantType [not null]
  userId String [not null]
  collectionAddress String [not null]
  createdAt DateTime [default: `now()`, not null]
  collection CollectionContract [not null]
  user User [not null]

  indexes {
    (userId, collectionAddress, type) [unique]
  }
}

Table StakeReward {
  id String [pk]
  assetId String [not null]
  amount Int [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  stakeDuration BigInt [not null]
  collectionAddress String [not null]
  asset Asset [not null]
  collection CollectionContract [not null]
  stakeRewardLogs StakeRewardLog [not null]
}

Table StakeRewardLog {
  id String [pk]
  stakeRewardId String [not null]
  nftId String [not null]
  amount Int [not null]
  isDistributed Boolean [not null, default: false]
  distributedAt DateTime
  isClaimed Boolean [not null, default: false]
  claimedAt DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  assetId String [not null]
  asset Asset [not null]
  nft NFT [not null]
  stakeReward StakeReward [not null]
}

Table NFTEvent {
  id String [pk]
  nftId String [not null]
  collectionId String [not null]
  eventType String [not null]
  fromAddress String
  toAddress String
  price String
  transactionHash String [not null]
  timestamp DateTime [default: `now()`, not null]
  blockNumber Int
  collection CollectionContract [not null]
  nft NFT [not null]
}

Table Artist {
  id String [pk]
  name String [not null]
  description String
  imageUrl String
  externalUrl String
  reportUrl String
  company String
  sns String[] [not null]
  gallery String[] [not null]
  videos String[] [not null]
  music String[] [not null]
  events String[] [not null]
  additionalInfo Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  logoUrl String
  backgroundColors String[] [not null]
  foregroundColors String[] [not null]
  code String [unique]
  hidden Boolean [not null, default: false]
  order Int [not null, default: 0]
  feeds ArtistFeed [not null]
  members ArtistMember [not null]
  messages ArtistMessage [not null]
  assets Asset [not null]
  boards Board [not null]
  collectionContracts CollectionContract [not null]
  players Player [not null]
  polls Poll [not null]
  quests Quest [not null]
  raffles Raffle [not null]
  story_spg Story_spg [not null]
}

Table ArtistMember {
  id String [pk]
  artistId String [not null]
  name String [not null]
  role String [not null]
  imageUrl String
  externalUrl String
  description String
  realName String
  birthDate DateTime
  birthPlace String
  nationality String
  height Int
  weight Int
  bloodType String
  constellation String
  sns String[] [not null]
  gallery String[] [not null]
  videos String[] [not null]
  music String[] [not null]
  additionalInfo Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  artist Artist [not null]
}

Table ArtistMessage {
  id String [pk]
  artistId String [not null]
  bannerUrl String
  externalUrl String
  message String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  endDate DateTime
  isActive Boolean [not null, default: true]
  startDate DateTime
  artist Artist [not null]
}

Table ArtistFeed {
  id String [pk]
  artistId String [not null]
  imageUrls String[] [not null]
  videoUrls String[] [not null]
  text String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  artist Artist [not null]
  reactions ArtistFeedReaction [not null]
}

Table ArtistFeedReaction {
  id String [pk]
  artistFeedId String [not null]
  playerId String [not null]
  reaction String [not null]
  comment String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  artistFeed ArtistFeed [not null]
  player Player [not null]

  indexes {
    (artistFeedId, playerId, reaction) [unique]
  }
}

Table Story_spgContract {
  id String [pk]
  address String [unique, not null]
  abi Json
  bytecode String
  txHash String
  networkId String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  story_spg Story_spg [not null]
  network BlockchainNetwork [not null]
}

Table TBAContract {
  id String [pk]
  address String [unique, not null]
  type TBAContractType [not null]
  name String
  version String
  abi Json
  bytecode String
  txHash String
  deployedBy String
  networkId String [not null]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  network BlockchainNetwork [not null]

  indexes {
    (networkId, type, address) [unique]
  }
}

Table Story_spg {
  id String [pk]
  address String [unique, not null]
  contractURI String [not null]
  name String [unique, not null]
  symbol String [unique, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  networkId String [not null]
  ownerAddress String [not null]
  artistId String
  contractAddress String
  baseURI String [not null]
  backgroundColor String
  circulation Int [not null, default: 1000]
  foregroundColor String
  glowEnd DateTime
  glowStart DateTime
  pageImages String[] [not null]
  preOrderEnd DateTime
  preOrderStart DateTime
  price Int [not null, default: 0]
  saleEnd DateTime
  saleStart DateTime
  isListed Boolean [not null, default: false]
  imageUrl String
  metadata Json
  reportUrl String
  sharePercentage Float [not null, default: 0]
  tbaImplementationAddress String
  tbaRegistryAddress String
  comingSoon Boolean [not null, default: false]
  hiddenDetails Boolean [not null, default: false]
  rafflePrizes RafflePrize [not null]
  story_nfts Story_nft [not null]
  artist Artist
  contract Story_spgContract
  network BlockchainNetwork [not null]
}

Table Story_nft {
  id String [pk]
  tokenId String [not null]
  contractAddress String [not null]
  ownerAddress String [not null]
  networkId String [not null]
  tokenURI String [not null]
  mintTxHash String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tokenURICid String [not null]
  ipId String
  spgCollection Story_spg [not null]
  ipAsset Story_ipAsset
  network BlockchainNetwork [not null]

  indexes {
    (contractAddress, tokenId) [unique]
  }
}

Table Story_ipAsset {
  id String [pk]
  ipId String [unique, not null]
  chainId String [not null]
  tokenContract String [not null]
  tokenId String [not null]
  ipMetadataURI String
  ipMetadataHash String
  nftMetadataURI String
  nftMetadataHash String
  registrationTxHash String
  licenseTermsId String
  licenseTermsURI String
  networkId String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  network BlockchainNetwork [not null]
  nfts Story_nft [not null]

  indexes {
    (chainId, tokenContract, tokenId) [unique]
  }
}

Table TweetAuthor {
  id String [pk]
  authorId String [unique, not null]
  name String
  username String
  profileImageUrl String
  blacklistedAt DateTime
  isBlacklisted Boolean [not null, default: false]
  registered Boolean [not null, default: false]
  registeredAt DateTime
  validated Boolean [not null, default: false]
  validatedAt DateTime
  player Player
  rewardsLogs RewardsLog [not null]
  tweets Tweet [not null]
  blacklistData TweetAuthorBlacklist
  metrics TweetAuthorMetrics [not null]
}

Table TweetAuthorMetrics {
  id String [pk]
  tweetAuthorId String [not null]
  followersCount Int [not null]
  followingCount Int [not null]
  tweetCount Int [not null]
  listedCount Int [not null]
  verified Boolean [not null, default: false]
  recordedAt DateTime [default: `now()`, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tweetAuthor TweetAuthor [not null]
}

Table TweetAuthorBlacklist {
  id String [pk]
  authorId String [unique, not null]
  reason String
  tweetCount Int [not null, default: 0]
  periodStart DateTime
  periodEnd DateTime
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  author TweetAuthor [not null]
}

Table Tweet {
  id String [pk]
  tweetId String [unique, not null]
  text String [not null]
  authorId String [not null]
  createdAt DateTime [default: `now()`, not null]
  authorName String
  authorProfileImageUrl String
  authorUsername String
  deletedAt DateTime
  isDeleted Boolean [not null, default: false]
  updatedAt DateTime [not null]
  author TweetAuthor [not null]
  media TweetMedia [not null]
  metricsHistory TweetMetrics [not null]
}

Table TweetMetrics {
  id String [pk]
  tweetId String [not null]
  replyCount Int [not null]
  retweetCount Int [not null]
  likeCount Int [not null]
  quoteCount Int [not null]
  recordedAt DateTime [default: `now()`, not null]
  tweet Tweet [not null]
}

Table TweetMedia {
  id String [pk]
  mediaKey String [unique, not null]
  tweetId String [not null]
  type String [not null]
  url String
  previewImageUrl String
  width Int
  height Int
  durationMs Int
  altText String
  createdAt DateTime [default: `now()`, not null]
  tweet Tweet [not null]
}

Table TweetSyncData {
  id Int [pk, increment]
  lastTweetId String
  lastSyncAt DateTime [default: `now()`, not null]
  syncStatus String [not null, default: 'success']
  errorMessage String
  totalTweetsFound Int [not null, default: 0]
  newTweetsAdded Int [not null, default: 0]
  apiRequestsUsed Int [not null, default: 0]
  rateLimitRemaining Int
  executionTimeMs Int
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tweetResponses TweetResponse [not null]
}

Table TweetResponse {
  id String [pk]
  tweetSyncDataId Int [not null]
  rawResponse Json [not null]
  requestParams Json [not null]
  responseCode Int [not null]
  requestTimestamp DateTime [default: `now()`, not null]
  processingTimeMs Int
  tweetSyncData TweetSyncData [not null]
}

Table XAuthSession {
  id String [pk]
  state String [unique, not null]
  codeVerifier String [not null]
  playerId String [not null]
  expiresAt DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
}

Table BoardModerationRule {
  id String [pk]
  category String [not null]
  stopWords String[] [not null]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  reports BoardModerationReport [not null]
}

Table BoardModerationReport {
  id String [pk]
  boardId String [not null]
  postId String
  commentId String
  reporterId String
  offenderId String
  relatedRuleId String
  reason String
  type BoardModerationReportType [not null, default: 'UNKNOWN']
  status BoardModerationReportStatus [not null, default: 'PENDING']
  reviewResult String
  reviewAt DateTime
  reviewBy String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  board Board [not null]
  comment BoardComment
  offender Player
  post BoardPost
  relatedRule BoardModerationRule
  reporter Player

  indexes {
    (reporterId, boardId, postId, commentId) [unique]
  }
}

Table BoardModerationTrustLevelAction {
  id String [pk]
  trustLevel Int [unique, not null, default: 0]
  reputationScore Int [not null, default: 0]
  postPerDay Int [not null, default: 5]
  commentPerDay Int [not null, default: 10]
  syllableLimit Int [not null, default: 1000]
  linkPerPostLimit Int [not null, default: 0]
  attachmentPerPostLimit Int [not null, default: 3]
  isActive Boolean [not null, default: true]
  increaseReputationScoreByCleanPost Int [not null, default: 3]
  increaseReputationScoreByCleanComment Int [not null, default: 1]
  increaseReputationScoreByReportedPost Int [not null, default: 1]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table Board {
  id String [pk]
  name String [not null]
  description String
  artistId String
  isPublic Boolean [not null, default: true]
  isActive Boolean [not null, default: true]
  order Int [not null, default: 0]
  iconUrl String
  bannerUrl String
  rules String
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  allowAdminRewards Boolean [not null, default: false]
  allowArtistRewards Boolean [not null, default: false]
  allowTeamRewards Boolean [not null, default: false]
  allowUserRewards Boolean [not null, default: false]
  dailyPostLimit Int
  maxRewardPerPost Int
  popularPostRewardAmount Int
  popularPostRewardAssetId String
  popularPostRewardEnabled Boolean [not null, default: false]
  popularPostThreshold Int
  postCreationRewardAmount Int
  postCreationRewardAssetId String
  postCreationRewardEnabled Boolean [not null, default: false]
  qualityContentRewardAmount Int
  qualityContentRewardAssetId String
  qualityContentRewardEnabled Boolean [not null, default: false]
  weeklyPostLimit Int
  artist Artist
  popularPostRewardAsset Asset
  postCreationRewardAsset Asset
  qualityContentRewardAsset Asset
  reports BoardModerationReport [not null]
  posts BoardPost [not null]
}

Table BoardPost {
  id String [pk]
  boardId String [not null]
  authorId String
  authorType BoardAuthorType [not null, default: 'PLAYER']
  title String [not null]
  content String [not null]
  imageUrls String[] [not null]
  videoUrls String[] [not null]
  attachmentUrls String[] [not null]
  nftAddress String
  nftTokenId String
  tags String[] [not null]
  isPinned Boolean [not null, default: false]
  isHidden Boolean [not null, default: false]
  viewCount Int [not null, default: 0]
  likeCount Int [not null, default: 0]
  dislikeCount Int [not null, default: 0]
  recommendCount Int [not null, default: 0]
  commentCount Int [not null, default: 0]
  shareCount Int [not null, default: 0]
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  files Json[] [not null]
  isSandbox Boolean [not null, default: false]
  isSandboxBoardArtist Boolean [not null, default: false]
  sandboxImgUrl String
  sandboxNickname String
  comments BoardComment [not null]
  reports BoardModerationReport [not null]
  author Player
  board Board [not null]
  rewards BoardPostReward [not null]
  reactions BoardReaction [not null]
}

Table BoardComment {
  id String [pk]
  postId String [not null]
  authorId String
  authorType BoardAuthorType [not null, default: 'PLAYER']
  content String [not null]
  parentId String
  imageUrls String[] [not null]
  isHidden Boolean [not null, default: false]
  likeCount Int [not null, default: 0]
  dislikeCount Int [not null, default: 0]
  replyCount Int [not null, default: 0]
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  files Json[] [not null]
  isSandbox Boolean [not null, default: false]
  isSandboxBoardArtist Boolean [not null, default: false]
  sandboxImgUrl String
  sandboxNickname String
  author Player
  parent BoardComment
  replies BoardComment [not null]
  post BoardPost [not null]
  reports BoardModerationReport [not null]
  reactions BoardReaction [not null]
}

Table BoardReaction {
  id String [pk]
  playerId String
  postId String
  commentId String
  type BoardReactionType [not null]
  createdAt DateTime [default: `now()`, not null]
  comment BoardComment
  player Player
  post BoardPost

  indexes {
    (playerId, postId, type) [unique]
    (playerId, commentId, type) [unique]
  }
}

Table BoardPostReward {
  id String [pk]
  postId String [not null]
  playerId String [not null]
  grantedBy String
  grantedByType BoardAuthorType
  assetId String
  amount Int [not null]
  reason BoardRewardReason [not null]
  txHash String
  status BoardRewardStatus [not null, default: 'PENDING']
  metadata Json
  createdAt DateTime [default: `now()`, not null]
  processedAt DateTime
  asset Asset
  grantedByUser Player
  player Player [not null]
  post BoardPost [not null]
}

Table Raffle {
  id String [pk]
  title String [not null]
  description String
  imgUrl String
  startDate DateTime [default: `now()`, not null]
  endDate DateTime [not null]
  drawDate DateTime
  instantReveal Boolean [not null, default: true]
  displayType String [not null, default: 'GACHA']
  maxParticipants Int
  entryFeeAssetId String
  entryFeeAmount Int [not null, default: 0]
  allowMultipleEntry Boolean [not null, default: false]
  isPublic Boolean [not null, default: true]
  isActive Boolean [not null, default: true]
  artistId String
  totalSlots Int [not null, default: 0]
  totalParticipants Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isLimited Boolean [not null, default: true]
  maxEntriesPerPlayer Int
  artist Artist
  entryFeeAsset Asset
  participants RaffleParticipant [not null]
  prizes RafflePrize [not null]
  winners RaffleWinner [not null]
  rewardLogs RewardsLog [not null]
}

Table RafflePrize {
  id String [pk]
  raffleId String [not null]
  title String [not null]
  description String
  imageUrl String
  order Int [not null, default: 0]
  quantity Int [not null]
  prizeType RafflePrizeType [not null]
  assetId String
  assetAmount Int
  spgAddress String
  nftQuantity Int
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  rarityOrder Int [default: 9]
  rarityTier RarityTier [default: 'COMMON']
  participants RaffleParticipant [not null]
  asset Asset
  raffle Raffle [not null]
  spg Story_spg
  winners RaffleWinner [not null]
}

Table RaffleParticipant {
  id String [pk]
  raffleId String [not null]
  playerId String [not null]
  prizeId String
  drawnAt DateTime
  revealedAt DateTime
  isRevealed Boolean [not null, default: false]
  slotNumber Int
  randomSeed String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  player Player [not null]
  prize RafflePrize
  raffle Raffle [not null]
  rewardLogs RewardsLog [not null]
}

Table RaffleWinner {
  id String [pk]
  raffleId String [not null]
  prizeId String [not null]
  playerId String [not null]
  status RafflePrizeStatus [not null, default: 'PENDING']
  distributedAt DateTime
  transactionHash String
  failureReason String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  player Player [not null]
  prize RafflePrize [not null]
  raffle Raffle [not null]
}

Table OnchainRaffleContract {
  id String [pk]
  address String [unique, not null]
  txHash String [unique, not null]
  deployedBy String [not null]
  blockNumber Int
  isActive Boolean [not null, default: true]
  networkId String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  raffles OnchainRaffle [not null]
  escrowWallet EscrowWallet [not null]
  network BlockchainNetwork [not null]
}

Table OnchainRaffle {
  id String [pk]
  contractAddress String [not null]
  raffleId String [not null]
  txHash String [not null]
  blockNumber Int
  networkId String [not null]
  isActive Boolean [not null, default: true]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  deployedBy String [not null]
  onchainRaffleContract OnchainRaffleContract [not null]
  escrowWallet EscrowWallet [not null]
  network BlockchainNetwork [not null]

  indexes {
    (contractAddress, raffleId) [unique]
  }
}

Table OnchainRafflePrizeDistribution {
  id String [pk]
  contractAddress String [not null]
  raffleId String [not null]
  resultId Int [not null]
  batchId String [not null]
  chunkId String [not null, default: '0']
  prizeIndex Int [not null]
  prizeType Int [not null]
  assetId String
  spgAddress String
  tokenAddress String
  amount Int
  playerId String [not null]
  playerAddress String [not null]
  status RafflePrizeStatus [not null, default: 'PENDING']
  retryCount Int [not null, default: 0]
  maxRetries Int [not null, default: 3]
  createdAt DateTime [default: `now()`, not null]
  processedAt DateTime
  distributedAt DateTime
  lastRetryAt DateTime
  transactionHash String
  failureReason String
  gasUsed String

  indexes {
    (contractAddress, raffleId, resultId) [unique]
  }
}

Table PollBettingSettlementLog {
  id String [pk]
  pollId String [not null]
  settlementType PollBettingSettlementType [not null, default: 'AUTO']
  winningOptionIds String[] [not null]
  totalPayout Int [not null, default: 0]
  totalWinners Int [not null, default: 0]
  totalBettingPool Int [not null, default: 0]
  houseCommission Int [not null, default: 0]
  houseCommissionRate Float [not null, default: 0.05]
  optionResults Json
  payoutDistribution Json
  settlementRule Json
  tieBreakApplied String
  tieCount Int
  status PollBettingSettlementStatus [not null, default: 'SUCCESS']
  isManual Boolean [not null, default: false]
  processedBy String
  processingTimeMs Int
  errorMessage String
  errorDetails Json
  retryCount Int [not null, default: 0]
  metadata Json
  alertsSent String[] [not null]
  settlementStartedAt DateTime [default: `now()`, not null]
  settlementCompletedAt DateTime
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  poll Poll [not null]
}

Table user_notifications {
  id String [pk]
  playerId String [not null]
  type NotificationType [not null]
  category NotificationCategory [not null, default: 'GENERAL']
  title String [not null]
  message String [not null]
  description String
  actionType NotificationActionType [not null, default: 'NONE']
  actionUrl String
  actionData Json
  entityType String
  entityId String
  entityData Json
  betAmount Float
  winAmount Float
  rewardAmount Float
  priority NotificationPriority [not null, default: 'MEDIUM']
  status NotificationStatus [not null, default: 'PENDING']
  isRead Boolean [not null, default: false]
  readAt DateTime
  isSent Boolean [not null, default: false]
  sentAt DateTime
  sentChannels String[] [not null]
  failedChannels String[] [not null]
  iconUrl String
  imageUrl String
  badgeCount Int [default: 0]
  showBadge Boolean [not null, default: false]
  scheduledAt DateTime
  expiresAt DateTime
  metadata Json
  tags String[] [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  player Player [not null]
}

Table notification_settings {
  id String [pk]
  playerId String [unique, not null]
  inAppEnabled Boolean [not null, default: true]
  pushEnabled Boolean [not null, default: true]
  emailEnabled Boolean [not null, default: false]
  smsEnabled Boolean [not null, default: false]
  telegramEnabled Boolean [not null, default: false]
  discordEnabled Boolean [not null, default: false]
  bettingEnabled Boolean [not null, default: true]
  bettingSuccessEnabled Boolean [not null, default: true]
  bettingResultEnabled Boolean [not null, default: true]
  bettingPayoutEnabled Boolean [not null, default: true]
  pollEnabled Boolean [not null, default: true]
  pollEndingEnabled Boolean [not null, default: true]
  pollResultEnabled Boolean [not null, default: true]
  pollNewEnabled Boolean [not null, default: true]
  questEnabled Boolean [not null, default: true]
  questCompleteEnabled Boolean [not null, default: true]
  questRewardEnabled Boolean [not null, default: true]
  questNewEnabled Boolean [not null, default: true]
  raffleEnabled Boolean [not null, default: true]
  raffleResultEnabled Boolean [not null, default: true]
  raffleNewEnabled Boolean [not null, default: true]
  boardEnabled Boolean [not null, default: true]
  boardCommentEnabled Boolean [not null, default: true]
  boardReactionEnabled Boolean [not null, default: true]
  boardRewardEnabled Boolean [not null, default: true]
  artistEnabled Boolean [not null, default: true]
  artistFeedEnabled Boolean [not null, default: true]
  artistMessageEnabled Boolean [not null, default: true]
  assetEnabled Boolean [not null, default: true]
  assetRewardEnabled Boolean [not null, default: true]
  assetTransferEnabled Boolean [not null, default: false]
  nftEnabled Boolean [not null, default: true]
  nftMintEnabled Boolean [not null, default: true]
  nftTransferEnabled Boolean [not null, default: false]
  socialEnabled Boolean [not null, default: true]
  referralEnabled Boolean [not null, default: true]
  followEnabled Boolean [not null, default: true]
  systemEnabled Boolean [not null, default: true]
  maintenanceEnabled Boolean [not null, default: true]
  updateEnabled Boolean [not null, default: true]
  securityEnabled Boolean [not null, default: true]
  doNotDisturbEnabled Boolean [not null, default: false]
  doNotDisturbStart String
  doNotDisturbEnd String
  doNotDisturbDays String[] [not null]
  maxDailyNotifications Int [default: 50]
  maxHourlyNotifications Int [default: 10]
  enableDigestMode Boolean [not null, default: false]
  digestFrequency String [not null, default: 'DAILY']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  player Player [not null]
}

Table notification_stats {
  id String [pk]
  date DateTime [default: `now()`, unique, not null]
  totalSent Int [not null, default: 0]
  totalRead Int [not null, default: 0]
  totalClicked Int [not null, default: 0]
  totalFailed Int [not null, default: 0]
  inAppSent Int [not null, default: 0]
  pushSent Int [not null, default: 0]
  emailSent Int [not null, default: 0]
  telegramSent Int [not null, default: 0]
  bettingCount Int [not null, default: 0]
  pollCount Int [not null, default: 0]
  questCount Int [not null, default: 0]
  raffleCount Int [not null, default: 0]
  socialCount Int [not null, default: 0]
  systemCount Int [not null, default: 0]
  openRate Float
  clickRate Float
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table PlayerAssetsStatus {
  id String [pk]
  assetId String [not null]
  totalBalance Int [not null, default: 0]
  rewardedCount Int [not null, default: 0]
  date DateTime [default: `now()`, not null]
  dailyActivityWalletId String
  dailyActivityWallet DailyActivityWallet
  monthlyActivityWalletId String
  monthlyActivityWallet MonthlyActivityWallet

  indexes {
    (assetId, date) [unique]
    (assetId, dailyActivityWalletId) [unique]
    (assetId, monthlyActivityWalletId) [unique]
  }
}

Table DailyActivityWallet {
  id String [pk]
  date DateTime [default: `now()`, unique, not null]
  activeWallets Int [not null, default: 0]
  newWallets Int [not null, default: 0]
  returningWallets Int [not null, default: 0]
  totalWallets Int [not null, default: 0]
  pollParticipationCount Int [not null, default: 0]
  questParticipationCount Int [not null, default: 0]
  raffleParticipationCount Int [not null, default: 0]
  playerAssetsStatus PlayerAssetsStatus [not null]
}

Table MonthlyActivityWallet {
  id String [pk]
  date DateTime [default: `now()`, unique, not null]
  activeWallets Int [not null, default: 0]
  newWallets Int [not null, default: 0]
  returningWallets Int [not null, default: 0]
  totalWallets Int [not null, default: 0]
  pollParticipationCount Int [not null, default: 0]
  questParticipationCount Int [not null, default: 0]
  raffleParticipationCount Int [not null, default: 0]
  playerAssetsStatus PlayerAssetsStatus [not null]
}

Table StakeReward {
  stakerewardsId String [ref: > StakeReward.id]
  stakerewardsId String [ref: > StakeReward.id]
}

Table StakeRewardLog {
  stakerewardlogsId String [ref: > StakeRewardLog.id]
  stakerewardlogsId String [ref: > StakeRewardLog.id]
}

Enum QuestLogStatus {
  PENDING
  PROCESSING
  COMPLETED
  RECLAIMABLE
  CLAIMED
  FAILED
  DEPRECATED
}

Enum AssetInstanceStatus {
  PENDING
  RECEIVED
  RECEIVED_EXPIRED
  USED
  EXPIRED
  EXCHANGED
  CANCELLED
  DESTROYED
}

Enum BoardModerationReportStatus {
  PENDING
  REVIEWING
  DISMISSED
  RESOLVED
  WARNED
  BANNED
  HIDDEN
  DELETED
}

Enum BoardModerationReportType {
  UNKNOWN
  AUTO_RULE
  SPAM_DETECTION
  AI_FLAGGED
  USER_REPORT
  MODERATOR_REPORT
}

Enum PlayerAssetStatus {
  ACTIVE
  INACTIVE
  DELETED
  FROZEN
}

Enum QuestType {
  URL
  REFERRAL
}

Enum PollStatus {
  UPCOMING
  ACTIVE
  ENDED
  CANCELLED
  CALCULATING_RESULTS
}

Enum PollCategory {
  PUBLIC
  PRIVATE
}

Enum AssetType {
  ONCHAIN
  OFFCHAIN
}

Enum CollectionParticipantType {
  PREREGISTRATION
  PRESALE
  PRIVATESALE
  PUBLICSALE
  GLOW
}

Enum TBAContractType {
  REGISTRY
  IMPLEMENTATION
}

Enum PaymentStatus {
  PENDING
  AWAITING_DEPOSIT
  PAID
  CANCELLED
  FAILED
  EXPIRED
  PARTIALLY_CANCELLED
  REFUNDED
  COMPLETED
}

Enum PaymentPromotionDiscountType {
  percentage
  amount
}

Enum RewardCurrency {
  points
  SGP
  SGT
}

Enum EventCategory {
  concert
  fanmeeting
  fancamp
  festival
  exhibition
  other
}

Enum EventStatus {
  upcoming
  ongoing
  completed
  cancelled
}

Enum WalletStatus {
  ACTIVE
  INACTIVE
  LOCKED
}

Enum MetadataType {
  collection
  nft
}

Enum BoardAuthorType {
  PLAYER
  ARTIST
  TEAM
  ADMIN
}

Enum BoardReactionType {
  LIKE
  DISLIKE
  LOVE
  LAUGH
  ANGRY
  SAD
  RECOMMEND
}

Enum BoardRewardReason {
  POST_CREATION
  POPULAR_POST
  QUALITY_CONTENT
  COMMUNITY_CONTRIBUTION
  ARTIST_REWARD
  TEAM_REWARD
  MILESTONE_ACHIEVEMENT
}

Enum BoardRewardStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  CANCELLED
}

Enum RafflePrizeType {
  ASSET
  NFT
  EMPTY
}

Enum RafflePrizeStatus {
  PENDING
  PROCESSING
  DISTRIBUTED
  CLAIMED
  FAILED
  EXPIRED
}

Enum RarityTier {
  COSMIC
  STELLAR
  CELESTIAL
  DIVINE
  LEGENDARY
  EPIC
  RARE
  UNCOMMON
  COMMON
}

Enum BettingStatus {
  OPEN
  CLOSED
  SETTLING
  SETTLED
  CANCELLED
}

Enum PollBettingSettlementType {
  AUTO
  MANUAL
  REFUND
  EMERGENCY
}

Enum PollBettingSettlementStatus {
  SUCCESS
  FAILED
  PARTIAL
  PENDING
  CANCELLED
}

Enum NotificationType {
  BETTING_SUCCESS
  BETTING_FAILED
  POLL_BETTING_WIN
  POLL_BETTING_LOSE
  POLL_BETTING_PAYOUT
  POLL_BETTING_REFUND
  POLL_STARTED
  POLL_ENDING_SOON
  POLL_ENDED
  POLL_RESULT_ANNOUNCED
  POLL_PARTICIPATION_REWARD
  QUEST_AVAILABLE
  QUEST_REMINDER
  QUEST_COMPLETED
  QUEST_REWARD_RECEIVED
  QUEST_EXPIRING_SOON
  RAFFLE_NEW
  RAFFLE_ENTRY_CONFIRMED
  RAFFLE_DRAWING_SOON
  RAFFLE_RESULT_AVAILABLE
  RAFFLE_WIN
  RAFFLE_PRIZE_DISTRIBUTED
  BOARD_POST_COMMENT
  BOARD_POST_REACTION
  BOARD_COMMENT_REPLY
  BOARD_POST_REWARD
  BOARD_MENTION
  ARTIST_NEW_FEED
  ARTIST_NEW_MESSAGE
  ARTIST_LIVE_EVENT
  ARTIST_SPECIAL_CONTENT
  ASSET_RECEIVED
  ASSET_SENT
  ASSET_STAKING_REWARD
  ASSET_BALANCE_LOW
  NFT_MINTED
  NFT_TRANSFERRED
  NFT_STAKING_REWARD
  NFT_COLLECTION_NEW
  REFERRAL_JOINED
  REFERRAL_REWARD
  ACHIEVEMENT_UNLOCKED
  LEVEL_UP
  SYSTEM_MAINTENANCE
  SYSTEM_UPDATE
  ACCOUNT_SECURITY
  TERMS_UPDATED
  PROMOTIONAL
  EVENT_STARTED
  EVENT_ENDING_SOON
  EVENT_REWARD
  GENERAL_INFO
  WELCOME
  BIRTHDAY
  SETTLEMENT_COMPLETE
}

Enum NotificationCategory {
  BETTING
  POLLS
  QUESTS
  RAFFLES
  SOCIAL
  ASSETS
  NFTS
  ARTISTS
  BOARDS
  EVENTS
  SYSTEM
  GENERAL
}

Enum NotificationActionType {
  NONE
  OPEN_APP
  OPEN_URL
  OPEN_POLL
  OPEN_QUEST
  OPEN_RAFFLE
  OPEN_BOARD_POST
  OPEN_ARTIST_FEED
  OPEN_WALLET
  OPEN_NFT_COLLECTION
  OPEN_SETTINGS
  CLAIM_REWARD
  PARTICIPATE_POLL
  PARTICIPATE_RAFFLE
  VIEW_RESULT
}

Enum NotificationPriority {
  URGENT
  HIGH
  MEDIUM
  LOW
}

Enum NotificationStatus {
  PENDING
  SCHEDULED
  SENDING
  SENT
  FAILED
  CANCELLED
  EXPIRED
}

Ref: Account.userId > User.id [delete: Cascade]

Ref: DiscordCode.userId > User.id [delete: Cascade]

Ref: Session.userId > User.id [delete: Cascade]

Ref: Wallet.userId > User.id [delete: Cascade]

Ref: Player.artistId > Artist.id

Ref: Player.referredBy - Player.id

Ref: Player.tweetAuthorId - TweetAuthor.authorId

Ref: Player.userId - User.id [delete: Cascade]

Ref: ReferralLog.referredPlayerId > Player.id [delete: Cascade]

Ref: ReferralLog.referrerPlayerId > Player.id [delete: Cascade]

Ref: PlayerAsset.assetId > Asset.id [delete: Cascade]

Ref: PlayerAsset.playerId > Player.id [delete: Cascade]

Ref: Quest.artistId > Artist.id

Ref: Quest.rewardAssetId > Asset.id

Ref: QuestLog.playerId > Player.id [delete: Cascade]

Ref: QuestLog.questId > Quest.id

Ref: QuestLog.rewardAssetId > Asset.id

Ref: Poll.artistId > Artist.id

Ref: Poll.bettingAssetId > Asset.id

Ref: Poll.participationConsumeAssetId > Asset.id

Ref: Poll.participationRewardAssetId > Asset.id

Ref: Poll.onchainContractId > OnchainPollContract.id

Ref: OnchainPollContract.networkId > BlockchainNetwork.id

Ref: PollLog.playerId > Player.id [delete: Cascade]

Ref: PollLog.pollId > Poll.id

Ref: PollLog.rewardAssetId > Asset.id

Ref: RewardsLog.assetId > Asset.id

Ref: RewardsLog.playerId > Player.id [delete: Cascade]

Ref: RewardsLog.pollId > Poll.id

Ref: RewardsLog.pollLogId > PollLog.id

Ref: RewardsLog.questId > Quest.id

Ref: RewardsLog.questLogId > QuestLog.id

Ref: RewardsLog.raffleId > Raffle.id

Ref: RewardsLog.raffleParticipantId > RaffleParticipant.id

Ref: RewardsLog.tweetAuthorId > TweetAuthor.id

Ref: LoginAttemptLog.userId > User.id [delete: Cascade]

Ref: Payment.promotionCode > PaymentPromotion.code

Ref: Payment.receiverWalletAddress > Wallet.address

Ref: Payment.userId > User.id

Ref: WebhookEvent.paymentId > Payment.id [delete: Cascade]

Ref: VirtualAccount.paymentId - Payment.id [delete: Cascade]

Ref: AssetsContract.networkId > BlockchainNetwork.id

Ref: Asset.artistId > Artist.id

Ref: Asset.assetsContractAddress > AssetsContract.address

Ref: Asset.networkId > BlockchainNetwork.id

Ref: AssetTutorial.assetId - Asset.id

Ref: AssetInstance.assetId > Asset.id

Ref: AssetInstance.playerAssetId > PlayerAsset.id

Ref: AssetInstance.playerId > Player.id

Ref: FactoryContract.networkId > BlockchainNetwork.id

Ref: Metadata.collectionAddress - CollectionContract.address

Ref: CollectionContract.artistId > Artist.id

Ref: CollectionContract.factoryId > FactoryContract.id

Ref: CollectionContract.networkId > BlockchainNetwork.id

Ref: NFT.collectionId > CollectionContract.id

Ref: NFT.networkId > BlockchainNetwork.id

Ref: CollectionParticipant.collectionAddress > CollectionContract.address

Ref: CollectionParticipant.userId > User.id

Ref: StakeReward.assetId > Asset.id

Ref: StakeReward.collectionAddress > CollectionContract.address

Ref: StakeRewardLog.assetId > Asset.id

Ref: StakeRewardLog.nftId > NFT.id

Ref: StakeRewardLog.stakeRewardId > StakeReward.id

Ref: NFTEvent.collectionId > CollectionContract.id

Ref: NFTEvent.nftId > NFT.id

Ref: ArtistMember.artistId > Artist.id

Ref: ArtistMessage.artistId > Artist.id

Ref: ArtistFeed.artistId > Artist.id

Ref: ArtistFeedReaction.artistFeedId > ArtistFeed.id

Ref: ArtistFeedReaction.playerId > Player.id

Ref: Story_spgContract.networkId > BlockchainNetwork.id

Ref: TBAContract.networkId > BlockchainNetwork.id

Ref: Story_spg.artistId > Artist.id

Ref: Story_spg.contractAddress > Story_spgContract.address

Ref: Story_spg.networkId > BlockchainNetwork.id

Ref: Story_nft.contractAddress > Story_spg.address

Ref: Story_nft.ipId > Story_ipAsset.ipId

Ref: Story_nft.networkId > BlockchainNetwork.id

Ref: Story_ipAsset.networkId > BlockchainNetwork.id

Ref: TweetAuthorMetrics.tweetAuthorId > TweetAuthor.authorId

Ref: TweetAuthorBlacklist.authorId - TweetAuthor.authorId

Ref: Tweet.authorId > TweetAuthor.authorId

Ref: TweetMetrics.tweetId > Tweet.tweetId

Ref: TweetMedia.tweetId > Tweet.tweetId

Ref: TweetResponse.tweetSyncDataId > TweetSyncData.id [delete: Cascade]

Ref: BoardModerationReport.boardId > Board.id

Ref: BoardModerationReport.commentId > BoardComment.id

Ref: BoardModerationReport.offenderId > Player.id

Ref: BoardModerationReport.postId > BoardPost.id

Ref: BoardModerationReport.relatedRuleId > BoardModerationRule.id

Ref: BoardModerationReport.reporterId > Player.id

Ref: Board.artistId > Artist.id

Ref: Board.popularPostRewardAssetId > Asset.id

Ref: Board.postCreationRewardAssetId > Asset.id

Ref: Board.qualityContentRewardAssetId > Asset.id

Ref: BoardPost.authorId > Player.id

Ref: BoardPost.boardId > Board.id [delete: Cascade]

Ref: BoardComment.authorId > Player.id

Ref: BoardComment.parentId - BoardComment.id

Ref: BoardComment.postId > BoardPost.id [delete: Cascade]

Ref: BoardReaction.commentId > BoardComment.id [delete: Cascade]

Ref: BoardReaction.playerId > Player.id

Ref: BoardReaction.postId > BoardPost.id [delete: Cascade]

Ref: BoardPostReward.assetId > Asset.id

Ref: BoardPostReward.grantedBy > Player.id

Ref: BoardPostReward.playerId > Player.id

Ref: BoardPostReward.postId > BoardPost.id [delete: Cascade]

Ref: Raffle.artistId > Artist.id

Ref: Raffle.entryFeeAssetId > Asset.id

Ref: RafflePrize.assetId > Asset.id

Ref: RafflePrize.raffleId > Raffle.id [delete: Cascade]

Ref: RafflePrize.spgAddress > Story_spg.address

Ref: RaffleParticipant.playerId > Player.id [delete: Cascade]

Ref: RaffleParticipant.prizeId > RafflePrize.id

Ref: RaffleParticipant.raffleId > Raffle.id [delete: Cascade]

Ref: RaffleWinner.playerId > Player.id [delete: Cascade]

Ref: RaffleWinner.prizeId > RafflePrize.id

Ref: RaffleWinner.raffleId > Raffle.id [delete: Cascade]

Ref: OnchainRaffleContract.deployedBy > EscrowWallet.address

Ref: OnchainRaffleContract.networkId > BlockchainNetwork.id

Ref: OnchainRaffle.contractAddress > OnchainRaffleContract.address

Ref: OnchainRaffle.deployedBy > EscrowWallet.address

Ref: OnchainRaffle.networkId > BlockchainNetwork.id

Ref: PollBettingSettlementLog.pollId > Poll.id

Ref: user_notifications.playerId > Player.id [delete: Cascade]

Ref: notification_settings.playerId - Player.id [delete: Cascade]

Ref: PlayerAssetsStatus.dailyActivityWalletId > DailyActivityWallet.id

Ref: PlayerAssetsStatus.monthlyActivityWalletId > MonthlyActivityWallet.id